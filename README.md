# Пульт охраны банка
Программа подключается к удаленной базе данных и отображает данные по пропускам сотрудников
на локальном сайте.

### Как установить
Python3 должен быть установлен.

Клонировать репозиторий к себе на компьютер:
```
git clone https://github.com/clownkill/django-orm-watching-storage
```
В каталоге со скачанным репозиторием создать виртуальное окружение:
```
python -m venv env
```
Для активации виртуального окружения необходимо, находясь в каталоге с `manage.py`, выполнить:
```
env\scripts\activate
```
Затем используйте `pip` (или `pip3`, если есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```
Рядом с файлом `main.py` необходимо создать файл `.env` для хранения переменных окружения, необходимых для доступа к базе
данных, со следующим содержимым:
```
CONNECTION_URL='postgres://[USER]:[PASSWORD]@c[HOST]:[PORT]/[NAME]'
ENGINE = [движок базы данных]
SECRET_KEY=[Секретный ключ для шифрования паролей пользователя]
ALLOWED_HOSTS=[Список хостов/доменов для которых может работать этот сайт]
DEBUG = [True/False - включение/отключение режима отладки]
```
- HOST - хост базы данных
- PORT - порт базы данных
- NAME - имя базы данных
- USER - имя пользователя базы данных
- PASSWORD - пароль пользователя базы данных

### Использование
Для запуска сервера необходимо выполнить следующую комманду:
```
python manage.py runserver 127.0.0.1:8000
```
После запуска скрипта локальный сайт будет доступен [локально](http://127.0.0.1:8000/).

Программа получает данные о картах всех сотрудников с удаленного сервера. На главной странице сайта
отображается информация только о сотрудниках с активными пропусками.

Также на сайте можно получить дополнительную информацию:
- просмотреть информацию о сотрудниках, которые сейчас находятся в хранилище
- при нажатии на имя сотрудника отображается информация о его визитах в хранилище и времени пребывания там.
Если продолжительность пребывания превышает один час визит помечается, как подозрительный, флагом `True`
  
### Цель проекта
Код написан в образовательных целях на онлайн-курсе веб-разработчиков [dvmn.org](https://dvmn.org/).
